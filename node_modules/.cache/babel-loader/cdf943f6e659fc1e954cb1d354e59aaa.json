{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/user/Desktop/tech-store/src/context/context.js\";\nimport React, { Component } from 'react';\nimport { linkData } from './linkData';\nconst ProductContext = /*#__PURE__*/React.createContext();\n\nclass ProductProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      sidebarOpen: false,\n      cartOpen: false,\n      links: linkData,\n      cart: [],\n      cartItems: 0,\n      cartSubTotal: 0,\n      cartTax: 0,\n      carTotal: 0,\n      storeProducts: [],\n      filteredProducts: [],\n      featuredProducts: [],\n      singleProduct: {},\n      loading: true\n    };\n\n    this.setProducts = products => {\n      let storeProducts = products.map(item => {\n        const {\n          id\n        } = item.sys.id;\n        const product = {\n          id,\n          ...item.fields\n        };\n        return product;\n      });\n      let featuredProducts = storeProducts.filter(item => item.featured);\n      this.setState({\n        storeProducts,\n        filteredProducts: storeProducts,\n        featuredProducts,\n        singleProduct: this.getSingleProduct(),\n        loading: false\n      });\n    };\n\n    this.handleSidebar = () => {\n      console.log('clicked');\n      this.setState({\n        sidebarOpen: !this.state.sidebarOpen\n      });\n    };\n\n    this.handleCart = () => {\n      this.setState({\n        cartOpen: !this.state.cartOpen\n      });\n    };\n\n    this.closeCart = () => {\n      this.setState({\n        cartOpen: false\n      });\n    };\n\n    this.openCart = () => {\n      this.setState({\n        cartOpen: true\n      });\n    };\n\n    this.setSingleProduct = id => {\n      let product = this.state.storeProducts.find(item => item.id === id);\n      localStorage.setItem('singleProduct', JSON.stringify(product));\n      this.setState({\n        singleProduct: product,\n        loading: false\n      });\n    };\n\n    this.getSingleProduct = () => {\n      return localStorage.getItem('singleProduct') ? JSON.parse(localStorage.getItem('singleProduct')) : {};\n    };\n  }\n\n  async componentDidMount() {\n    const contentful = require('contentful');\n\n    const client = contentful.createClient({\n      space: 'l9qdjfpc8vvd',\n      accessToken: 'kqFK1FtE39BzI6enKVKgczj7b54UCTmHJCxqAIrfDpM'\n    });\n    const response = await client.getEntries({\n      content_type: 'techstore'\n    });\n    this.setProducts(response.items);\n  } // setProducts\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(ProductContext.Provider, {\n      value: { ...this.state,\n        handleSidebar: this.handleSidebar,\n        handleCart: this.handleCart,\n        openCart: this.openCart,\n        closeCart: this.closeCart,\n        setSingleProduct: this.setSingleProduct,\n        getSingleProduct: this.getSingleProduct\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nconst ProductConsumer = ProductContext.Consumer;\nexport { ProductProvider, ProductConsumer, ProductContext };","map":{"version":3,"sources":["/Users/user/Desktop/tech-store/src/context/context.js"],"names":["React","Component","linkData","ProductContext","createContext","ProductProvider","state","sidebarOpen","cartOpen","links","cart","cartItems","cartSubTotal","cartTax","carTotal","storeProducts","filteredProducts","featuredProducts","singleProduct","loading","setProducts","products","map","item","id","sys","product","fields","filter","featured","setState","getSingleProduct","handleSidebar","console","log","handleCart","closeCart","openCart","setSingleProduct","find","localStorage","setItem","JSON","stringify","getItem","parse","componentDidMount","contentful","require","client","createClient","space","accessToken","response","getEntries","content_type","items","render","props","children","ProductConsumer","Consumer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { linkData } from './linkData';\n\nconst ProductContext = React.createContext();\n\nclass ProductProvider extends Component {\n\tstate = {\n\t\tsidebarOpen: false,\n\t\tcartOpen: false,\n\t\tlinks: linkData,\n\t\tcart: [],\n\t\tcartItems: 0,\n\t\tcartSubTotal: 0,\n\t\tcartTax: 0,\n\t\tcarTotal: 0,\n\t\tstoreProducts: [],\n\t\tfilteredProducts: [],\n\t\tfeaturedProducts: [],\n\t\tsingleProduct: {},\n\t\tloading: true,\n\t};\n\tasync componentDidMount() {\n\t\tconst contentful = require('contentful');\n\t\tconst client = contentful.createClient({\n\t\t\tspace: 'l9qdjfpc8vvd',\n\t\t\taccessToken: 'kqFK1FtE39BzI6enKVKgczj7b54UCTmHJCxqAIrfDpM',\n\t\t});\n\t\tconst response = await client.getEntries({\n\t\t\tcontent_type: 'techstore',\n\t\t});\n\t\tthis.setProducts(response.items);\n\t}\n\n\t// setProducts\n\n\tsetProducts = products => {\n\t\tlet storeProducts = products.map(item => {\n\t\t\tconst { id } = item.sys.id;\n\t\t\tconst product = { id, ...item.fields };\n\t\t\treturn product;\n\t\t});\n\t\tlet featuredProducts = storeProducts.filter(item => item.featured);\n\t\tthis.setState({\n\t\t\tstoreProducts,\n\t\t\tfilteredProducts: storeProducts,\n\t\t\tfeaturedProducts,\n\t\t\tsingleProduct: this.getSingleProduct(),\n\t\t\tloading: false,\n\t\t});\n\t};\n\t// handle sidebar\n\thandleSidebar = () => {\n\t\tconsole.log('clicked');\n\t\tthis.setState({\n\t\t\tsidebarOpen: !this.state.sidebarOpen,\n\t\t});\n\t};\n\n\t// handle cart\n\thandleCart = () => {\n\t\tthis.setState({ cartOpen: !this.state.cartOpen });\n\t};\n\n\t// close cart\n\tcloseCart = () => {\n\t\tthis.setState({\n\t\t\tcartOpen: false,\n\t\t});\n\t};\n\n\t// open cart\n\topenCart = () => {\n\t\tthis.setState({\n\t\t\tcartOpen: true,\n\t\t});\n\t};\n\t// set Single Product\n\tsetSingleProduct = id => {\n\t\tlet product = this.state.storeProducts.find(item => item.id === id);\n\t\tlocalStorage.setItem('singleProduct', JSON.stringify(product));\n\t\tthis.setState({\n\t\t\tsingleProduct: product,\n\t\t\tloading: false,\n\t\t});\n\t};\n\n\t// get single product\n\tgetSingleProduct = () => {\n\t\treturn localStorage.getItem('singleProduct')\n\t\t\t? JSON.parse(localStorage.getItem('singleProduct'))\n\t\t\t: {};\n\t};\n\trender() {\n\t\treturn (\n\t\t\t<ProductContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\t...this.state,\n\t\t\t\t\thandleSidebar: this.handleSidebar,\n\t\t\t\t\thandleCart: this.handleCart,\n\t\t\t\t\topenCart: this.openCart,\n\t\t\t\t\tcloseCart: this.closeCart,\n\t\t\t\t\tsetSingleProduct: this.setSingleProduct,\n\t\t\t\t\tgetSingleProduct: this.getSingleProduct,\n\t\t\t\t}}>\n\t\t\t\t{this.props.children}\n\t\t\t</ProductContext.Provider>\n\t\t);\n\t}\n}\n\nconst ProductConsumer = ProductContext.Consumer;\n\nexport { ProductProvider, ProductConsumer, ProductContext };\n"]},"metadata":{},"sourceType":"module"}